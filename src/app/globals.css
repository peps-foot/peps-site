/* global.css */
@import "tailwindcss";

/* ──────────────────────────────────────────────
   Thème global : on déclare qu’on gère light/dark
   ────────────────────────────────────────────── */
:root {
  /* ⬇️ Empêche l’auto-dark de Chrome/Android : on prend la main */
  color-scheme: light dark;

  /* Couleurs (clair) */
  --background: #ffffff;   /* fond principal (page)       */
  --foreground: #171717;   /* texte principal             */
  --surface:    #f7f7f8;   /* cartes / panneaux           */
  --border:     #e5e7eb;   /* bordures/grilles            */
  --muted:      #6b7280;   /* texte secondaire            */
  --accent:     #ff7a00;   /* accent / icônes / badges    */

  /* Liens (toujours bleus) */
  --link:         #2563eb;
  --link-hover:   #1e40af;
  --link-visited: #1d4ed8;

  /* Marque (orange fixe) */
  --brand:    #ff7a00;
  --on-brand: #111111; /* noir sur orange */
}

@media (prefers-color-scheme: dark) {
  :root {
    /* Couleurs (sombre) */
    --background: #0a0a0a;
    --foreground: #ededed;
    --surface:    #121217;
    --border:     #2a2f3a;
    --muted:      #cbd5e1;
    --accent:     #ff9a3e;

    /* Liens (identiques en dark) */
    --link:         #2563eb;
    --link-hover:   #1e40af;
    --link-visited: #1d4ed8;
  }
}

/* ──────────────────────────────────────────────
   Bridge Tailwind ←→ variables CSS
   (Optionnel mais pratique pour écrire bg-[var(--…)]
   ────────────────────────────────────────────── */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-surface:    var(--surface);
  --color-border:     var(--border);
  --color-muted:      var(--muted);
  --color-accent:     var(--accent);

  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* ──────────────────────────────────────────────
   Base globale
   ────────────────────────────────────────────── */
html, body {
  width: 100%;
  overflow-x: hidden;
}

html {
  /* hérite de color-scheme: root (utile pour scrollbars, selects…) */
  background-color: var(--background);
}

body {
  background-color: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  -webkit-text-size-adjust: 100%;
}

/* Liens : toujours bleus, avec états */
a {
  color: var(--link);
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
  text-underline-offset: 2px;
}
a:visited {
  color: var(--link-visited);
}
a:focus-visible {
  outline: 2px solid var(--link);
  outline-offset: 2px;
}

/* ──────────────────────────────────────────────
   Helpers “full-CSS”
   ────────────────────────────────────────────── */
.card {
  background-color: var(--surface);
  color: var(--foreground);
  border: 1px solid var(--border);
  border-radius: 16px;
}

.text-muted { color: var(--muted); }

/* Boutons ronds type 1/N/2 */
.btn-circle {
  display: inline-flex;
  width: 2rem; height: 2rem;
  align-items: center; justify-content: center;
  border-radius: 0.5rem;
  background-color: var(--surface);
  border: 1px solid var(--border);
  color: var(--foreground);
}
.btn-circle svg { width: 1rem; height: 1rem; stroke: currentColor; }

/* Icône d’aide orange “?” */
.badge-accent {
  background-color: var(--accent);
  color: #000; /* bon contraste sur l’accent */
}

/* Inputs de formulaire pour éviter l’auto-stylage sombre */
input, select, textarea {
  background-color: var(--surface);
  color: var(--foreground);
  border: 1px solid var(--border);
}

/* Pour les images/svgs : le svg suit la couleur du texte par défaut */
svg { color: currentColor; fill: none; stroke: currentColor; }

/* ──────────────────────────────────────────────
   Bloc marque (fond orange + texte noir, liens/icônes inclus)
   ────────────────────────────────────────────── */
.brand {
  background-color: var(--brand) !important;
  color: var(--on-brand) !important;
}
.brand a,
.brand svg,
.brand [class*="icon"] {
  color: var(--on-brand) !important;
  fill: currentColor;
  stroke: currentColor;
}
.bg-brand     { background-color: var(--brand) !important; }
.text-onbrand { color: var(--on-brand) !important; }

/* ──────────────────────────────────────────────
   THEME COMPAT SHIM — temporaire
   Re-map des classes Tailwind figées vers les variables
   pour suivre light/dark sans réécrire tout le JSX.
   À retirer plus tard lors de la refacto.
   ────────────────────────────────────────────── */

/* Textes */
.text-black, .text-gray-900, .text-zinc-900 { color: var(--foreground) !important; }
.text-gray-800, .text-slate-800             { color: var(--foreground) !important; }
.text-gray-700, .text-slate-700             { color: var(--foreground) !important; }
.text-gray-500, .text-slate-500             { color: var(--muted) !important; }

/* Fonds généraux (pages, conteneurs) */
.bg-white, .bg-gray-50, .bg-slate-50, .bg-zinc-50 { background-color: var(--background) !important; }

/* Fonds de “cartes/panneaux” */
.bg-gray-100, .bg-slate-100, .bg-zinc-100 { background-color: var(--surface) !important; }

/* Bordures */
.border-gray-200, .border-slate-200, .border-zinc-200 { border-color: var(--border) !important; }
